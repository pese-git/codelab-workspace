# üöÄ **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã POC - –ü–ª–∞–Ω –∏—Ç–µ—Ä–∞—Ç–∏–≤–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**
–í–µ—Ä—Å–∏—è: 1.0
–°—Ç–∞—Ç—É—Å: –ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

---

# –û–±–∑–æ—Ä

–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –≤—Å–µ —Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞ POC:
- **Gateway Service** - WebSocket –ø—Ä–æ–∫—Å–∏ –º–µ–∂–¥—É IDE –∏ Agent
- **Agent Runtime Service (ARS)** - –û—Å–Ω–æ–≤–Ω–∞—è AI –ª–æ–≥–∏–∫–∞
- **LLM Proxy Service** - –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º

–ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏ –≤—Å—è —Å–∏—Å—Ç–µ–º–∞ –æ—Å—Ç–∞–µ—Ç—Å—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–π –∏ –≥–æ—Ç–æ–≤–æ–π –∫ –ø–æ–ª–Ω–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é.

---

# –§–∞–∑–∞ 1: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ (–î–µ–Ω—å 1-2)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 1.1: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
**–¶–µ–ª—å:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç—Ä–∏ —Å–µ—Ä–≤–∏—Å–∞ —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ FastAPI
- [ ] Endpoint –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è `/health`
- [ ] –ë–∞–∑–æ–≤—ã–π WebSocket endpoint `/ws/{session_id}`
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ FastAPI
- [ ] Endpoint –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è `/health`
- [ ] –ë–∞–∑–æ–≤—ã–π REST endpoint `/agent/message`
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–ó–∞–¥–∞—á–∏ LLM Proxy:**
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞ FastAPI
- [ ] Endpoint –ø—Ä–æ–≤–µ—Ä–∫–∏ –∑–¥–æ—Ä–æ–≤—å—è `/health`
- [ ] Endpoint —Å–ø–∏—Å–∫–∞ –º–æ–¥–µ–ª–µ–π `/llm/models`
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

**–û–±—â–∏–µ –∑–∞–¥–∞—á–∏:**
- [ ] Docker-compose.yml –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –û–±—â–∏–µ Python –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- [ ] –ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
# –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã –∏ –æ—Ç–≤–µ—á–∞—é—Ç
curl http://localhost:8000/health  # Gateway
curl http://localhost:8001/health  # Agent Runtime
curl http://localhost:8002/health  # LLM Proxy
```

## –ò—Ç–µ—Ä–∞—Ü–∏—è 1.2: –ë–∞–∑–æ–≤—ã–π –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π (–±–µ–∑ LLM)
**–¶–µ–ª—å:** –ü—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏–µ —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (—Ä–µ–∂–∏–º —ç—Ö–æ)

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –û–±—Ä–∞–±–æ—Ç—á–∏–∫ WebSocket —Å–æ–æ–±—â–µ–Ω–∏–π
- [ ] –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤ Agent Runtime (HTTP)
- [ ] –í–æ–∑–≤—Ä–∞—Ç —ç—Ö–æ-–æ—Ç–≤–µ—Ç–∞ —á–µ—Ä–µ–∑ WebSocket

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –ü—Ä–∏–µ–º —Å–æ–æ–±—â–µ–Ω–∏–π –æ—Ç Gateway
- [ ] –ò–º–∏—Ç–∞—Ü–∏—è –≤—ã–∑–æ–≤–∞ LLM (–≤–æ–∑–≤—Ä–∞—Ç —ç—Ö–æ)
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –æ—Ç–≤–µ—Ç–∞ –≤ Gateway

**–ó–∞–¥–∞—á–∏ LLM Proxy:**
- [ ] –ò–º–∏—Ç–∞—Ü–∏—è endpoint `/llm/chat` (—ç—Ö–æ)
- [ ] –ë–∞–∑–æ–≤–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
// WebSocket –∫–ª–∏–µ–Ω—Ç –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ
ws.send(JSON.stringify({type: "user_message", content: "–ü—Ä–∏–≤–µ—Ç"}))
// –ü–æ–ª—É—á–∞–µ—Ç —ç—Ö–æ –æ–±—Ä–∞—Ç–Ω–æ —á–µ—Ä–µ–∑ –≤—Å—é —Ü–µ–ø–æ—á–∫—É
// {"type": "assistant_message", "content": "Echo: –ü—Ä–∏–≤–µ—Ç"}
```

---

# Phase 2: Streaming Infrastructure (Day 3-4)

## Iteration 1.1: Basic HTTP Server
**Goal:** –ó–∞–ø—É—Å—Ç–∏—Ç—å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π HTTP —Å–µ—Ä–≤–µ—Ä

**Tasks:**
- [ ] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø—Ä–æ–µ–∫—Ç–∞ Python/FastAPI
- [ ] –ë–∞–∑–æ–≤—ã–π `main.py` —Å health endpoint
- [ ] Dockerfile –∏ docker-compose.yml
- [ ] –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ environment variables

**Deliverable:**
```bash
curl http://localhost:8001/health
# {"status": "healthy", "service": "agent-runtime", "version": "0.1.0"}
```

## Iteration 1.2: Echo Message Handler
**Goal:** –ü—Ä–∏–Ω–∏–º–∞—Ç—å –∏ –æ—Ç–≤–µ—á–∞—Ç—å —ç—Ö–æ–º –Ω–∞ —Å–æ–æ–±—â–µ–Ω–∏—è

**Tasks:**
- [ ] POST `/agent/message` endpoint
- [ ] –ë–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è JSON —Å—Ö–µ–º—ã
- [ ] Echo response –±–µ–∑ LLM
- [ ] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤

**Deliverable:**
```bash
curl -X POST http://localhost:8001/agent/message \
  -H "Content-Type: application/json" \
  -d '{"session_id": "test", "message": {"type": "user_message", "content": "Hello"}}'
# {"status": "accepted", "echo": "Hello"}
```

---

# –§–∞–∑–∞ 2: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏ (–î–µ–Ω—å 3-4)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 2.1: –°–∫–≤–æ–∑–Ω–æ–π –∫–æ–Ω–≤–µ–π–µ—Ä –ø–æ—Ç–æ–∫–æ–≤–æ–π –ø–µ—Ä–µ–¥–∞—á–∏
**–¶–µ–ª—å:** –ü–æ—Ç–æ–∫–æ–≤–∞—è –ø–µ—Ä–µ–¥–∞—á–∞ —á–µ—Ä–µ–∑ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã (–∏–º–∏—Ç–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤)

**–ó–∞–¥–∞—á–∏ LLM Proxy:**
- [ ] SSE endpoint `/llm/stream`
- [ ] –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –∏–º–∏—Ç–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤ (—Å–ª–æ–≤–æ –∑–∞ —Å–ª–æ–≤–æ–º)
- [ ] –§–æ—Ä–º–∞—Ç –ø–æ—Ç–æ–∫–æ–≤–æ–≥–æ –æ—Ç–≤–µ—Ç–∞

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ SSE –æ—Ç LLM Proxy
- [ ] –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ —Ñ–æ—Ä–º–∞—Ç Gateway
- [ ] POST `/agent/message/stream` —Å SSE –æ—Ç–≤–µ—Ç–æ–º
- [ ] –•—Ä–∞–Ω–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ —Å–µ—Å—Å–∏–∏ (–≤ –ø–∞–º—è—Ç–∏)

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –ü–æ–ª—É—á–µ–Ω–∏–µ SSE –æ—Ç Agent Runtime
- [ ] –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ SSE –≤ WebSocket —Å–æ–æ–±—â–µ–Ω–∏—è
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–∞–∑—Ä—ã–≤–æ–≤ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- [ ] –ë—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—è –ø–æ—Å–ª–µ–¥–Ω–∏—Ö N —Ç–æ–∫–µ–Ω–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
// IDE –ø–æ–ª—É—á–∞–µ—Ç —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ WebSocket
ws.onmessage = (event) => {
  // {"type": "assistant_message", "token": "–ü—Ä–∏–≤–µ—Ç", "is_final": false}
  // {"type": "assistant_message", "token": " –º–∏—Ä", "is_final": false}
  // {"type": "assistant_message", "is_final": true}
}
```

## Iteration 2.2: Inter-Service Authentication
**Goal:** –ë–∞–∑–æ–≤–∞—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –º–µ–∂–¥—É —Å–µ—Ä–≤–∏—Å–∞–º–∏

**All Services Tasks:**
- [ ] API key validation middleware
- [ ] Internal service keys (X-Internal-Auth)
- [ ] Request context propagation
- [ ] Unauthorized error handling

**Deliverable:**
```bash
# –ó–∞–ø—Ä–æ—Å—ã –±–µ–∑ –∫–ª—é—á–∞ –æ—Ç–∫–ª–æ–Ω—è—é—Ç—Å—è
curl http://localhost:8001/agent/message
# 401 Unauthorized

# –° –∫–ª—é—á–æ–º –ø—Ä–æ—Ö–æ–¥—è—Ç
curl http://localhost:8001/agent/message \
  -H "X-Internal-Auth: internal-poc-key"
# 200 OK
```

---

# Phase 3: Real LLM Integration (Day 5-6)

## Iteration 3.1: LLM Proxy OpenAI Integration
**Goal:** LLM Proxy —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º OpenAI API

**LLM Proxy Tasks:**
- [ ] OpenAI client integration
- [ ] Provider adapter pattern
- [ ] Non-streaming `/llm/chat` endpoint
- [ ] Streaming `/llm/stream` with real tokens
- [ ] Error handling (rate limits, timeouts)
- [ ] Fallback to mock if OpenAI unavailable

**Agent Runtime Tasks:**
- [ ] Update to use real LLM Proxy
- [ ] Handle real LLM response format
- [ ] Context window management

**Gateway Tasks:**
- [ ] No changes needed (protocol unchanged)

**Deliverable:**
```bash
# –†–µ–∞–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã –æ—Ç GPT-4
ws.send('{"type": "user_message", "content": "What is 2+2?"}')
# Streaming response: "2 + 2 equals 4"
```

## –ò—Ç–µ—Ä–∞—Ü–∏—è 3.2: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤
**–¶–µ–ª—å:** –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö LLM –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

**–ó–∞–¥–∞—á–∏ LLM Proxy:**
- [ ] –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è Anthropic
- [ ] –ê–¥–∞–ø—Ç–µ—Ä –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –º–æ–¥–µ–ª–µ–π (Ollama)
- [ ] –õ–æ–≥–∏–∫–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –º–æ–¥–µ–ª–µ–π
- [ ] –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞
- [ ] –£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
- [ ] –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –ø—Ä–æ–º–ø—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
# –í—ã–±–æ—Ä –º–æ–¥–µ–ª–∏ —á–µ—Ä–µ–∑ API
{
  "model": "gpt-4",        # –∏–ª–∏
  "model": "claude-3",     # –∏–ª–∏  
  "model": "local-llama2"
}
```

---

# –§–∞–∑–∞ 4: –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (–î–µ–Ω—å 7-8)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 4.1: –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
**–¶–µ–ª—å:** –ü–æ–ª–Ω—ã–π –∫–æ–Ω–≤–µ–π–µ—Ä –¥–ª—è –≤—ã–∑–æ–≤–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

**–ó–∞–¥–∞—á–∏ LLM Proxy:**
- [ ] –ü–∞—Ä—Å–∏–Ω–≥ –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∏–∑ –æ—Ç–≤–µ—Ç–∞ LLM
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –≤—ã–∑–æ–≤–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –∫–∞–∫ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–≥–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ tool_call –≤ –ø–æ—Ç–æ–∫–µ
- [ ] –ü–µ—Ä–µ—Å—ã–ª–∫–∞ tool_call –≤ Gateway
- [ ] –û–∂–∏–¥–∞–Ω–∏–µ tool_result (—Å —Ç–∞–π–º–∞—É—Ç–æ–º)
- [ ] –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∏–∞–ª–æ–≥–∞ —Å LLM –ø–æ—Å–ª–µ –ø–æ–ª—É—á–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã—Ö —Ä–∞—Å—Å—É–∂–¥–µ–Ω–∏–π

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –ü—Ä–∏–µ–º tool_call –æ—Ç Agent
- [ ] –ü–µ—Ä–µ—Å—ã–ª–∫–∞ –≤ IDE —á–µ—Ä–µ–∑ WebSocket
- [ ] –ü—Ä–∏–µ–º tool_result –æ—Ç IDE
- [ ] –û—Ç–ø—Ä–∞–≤–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ –≤ Agent
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
// –ü–æ–ª–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
// IDE –ø–æ–ª—É—á–∞–µ—Ç: {"type": "tool_call", "tool_name": "read_file", ...}
// IDE –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç: {"type": "tool_result", "result": {...}}
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–º –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
```

## Iteration 4.2: Basic Tools Implementation
**Goal:** MVP tools —Ä–∞–±–æ—Ç–∞—é—Ç end-to-end

**All Services Tasks:**
- [ ] Implement read_file flow
- [ ] Implement write_file flow  
- [ ] Error handling for tool failures
- [ ] Tool result size limits

**Agent Runtime Tasks:**
- [ ] Tool definitions for LLM
- [ ] Tool result formatting
- [ ] Chain multiple tools

**Deliverable:**
```javascript
// User: "Read the README file"
// Agent calls read_file tool
// IDE executes and returns content
// Agent includes content in response
```

---

# Phase 5: Advanced Tools & Git Integration (Day 9-10)

## Iteration 5.1: Git Tools Implementation
**Goal:** git.diff –∏ apply_patch —Ä–∞–±–æ—Ç–∞—é—Ç

**Gateway Tasks:**
- [ ] Handle git.diff tool_call
- [ ] Handle apply_patch tool_call
- [ ] Large diff handling (streaming)

**Agent Runtime Tasks:**
- [ ] Git tools in LLM prompt
- [ ] Diff parsing and validation
- [ ] Patch generation logic

**All Services Tasks:**
- [ ] Test with real git repositories
- [ ] Handle binary files gracefully
- [ ] Diff size limits

**Deliverable:**
```javascript
// User: "Show me what changed in the last commit"
// Agent calls git.diff
// IDE returns diff
// Agent explains changes
```

## –ò—Ç–µ—Ä–∞—Ü–∏—è 5.2: –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã (–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ç—á–µ–π)
**–¶–µ–ª—å:** apply_patch_review —Å –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ–º —á–µ—Ä–µ–∑ UI

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –°–ø–µ—Ü–∏–∞–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ apply_patch_review
- [ ] –û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ —Å –æ—Ç—Ñ–∏–ª—å—Ç—Ä–æ–≤–∞–Ω–Ω—ã–º diff
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–∞–π–º–∞—É—Ç–∞–º–∏

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä—è–µ–º—ã—Ö –ø–∞—Ç—á–µ–π
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ diff
- [ ] –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–∞–±–æ—Ç—ã —Ç–æ–ª—å–∫–æ —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
// Agent –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è
// IDE –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç UI –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ç—á–∞
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—ã–±–∏—Ä–∞–µ—Ç —Ñ—Ä–∞–≥–º–µ–Ω—Ç—ã
// Agent –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å –≤—ã–±—Ä–∞–Ω–Ω—ã–º–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
```

---

# –§–∞–∑–∞ 6: –í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏—è–º–∏ (–î–µ–Ω—å 11-12)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 6.1: –ü–æ—Ç–æ–∫ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º (prompt_user)
**–¶–µ–ª—å:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –≤—ã–∑–æ–≤–∞ prompt_user
- [ ] –û–∂–∏–¥–∞–Ω–∏–µ –æ—Ç–≤–µ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- [ ] –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ç–∞–π–º–∞—É—Ç–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –¥–∏–∞–ª–æ–≥–∞
- [ ] –í–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è/–æ—Ç–∫–∞–∑–∞
- [ ] –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤

**–ó–∞–¥–∞—á–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
- [ ] –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –ú–Ω–æ–≥–æ—ç—Ç–∞–ø–Ω—ã–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–º–µ–Ω—ã

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
// Agent: "–≠—Ç–æ –∏–∑–º–µ–Ω–∏—Ç 5 —Ñ–∞–π–ª–æ–≤. –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å?"
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –¥–∏–∞–ª–æ–≥ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–∞–∂–∏–º–∞–µ—Ç "–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å"
// Agent –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
```

## –ò—Ç–µ—Ä–∞—Ü–∏—è 6.2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π
**–¶–µ–ª—å:** –°–µ—Å—Å–∏–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Å—Å–∏–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è WebSocket
- [ ] –ü–µ—Ä–µ–¥–∞—á–∞ —Å–µ—Å—Å–∏–π –º–µ–∂–¥—É —ç–∫–∑–µ–º–ø–ª—è—Ä–∞–º–∏

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–µ—Å—Å–∏–π –≤ Redis
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ –ø—Ä–∏ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏
- [ ] –í—Ä–µ–º—è –∂–∏–∑–Ω–∏ —Å–µ—Å—Å–∏–∏ (TTL)
- [ ] –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö —Å–µ—Å—Å–∏–π

**–ó–∞–¥–∞—á–∏ LLM Proxy:**
- [ ] –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –ø–æ –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
# –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ –ª—é–±–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose restart agent-runtime
# –°–µ—Å—Å–∏—è –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç—Å—è –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö
```

---

# –§–∞–∑–∞ 7: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É (–î–µ–Ω—å 13-14)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 7.1: –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å
**–¶–µ–ª—å:** –ü–æ–ª–Ω–∞—è –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ó–∞–¥–∞—á–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
- [ ] –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ JSON
- [ ] –ü–µ—Ä–µ–¥–∞—á–∞ ID –∑–∞–ø—Ä–æ—Å–∞
- [ ] –ú–µ—Ç—Ä–∏–∫–∏ –≤ —Ñ–æ—Ä–º–∞—Ç–µ Prometheus
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –≤ health check

**–°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ –¥–ª—è —Å–µ—Ä–≤–∏—Å–æ–≤:**
- **Gateway:** WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è, —Å–∫–æ—Ä–æ—Å—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–π
- **Agent Runtime:** –ó–∞–¥–µ—Ä–∂–∫–∏ LLM, –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- **LLM Proxy:** –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤, —Å–∫–æ—Ä–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–æ–≤

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
# –ú–µ—Ç—Ä–∏–∫–∏ —Å–æ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
curl http://localhost:8000/metrics  # gateway_ws_connections 5
curl http://localhost:8001/metrics  # agent_llm_requests_total 42
curl http://localhost:8002/metrics  # llm_proxy_tokens_per_second 45.2
```

## –ò—Ç–µ—Ä–∞—Ü–∏—è 7.2: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏ –∏ –Ω–∞–≥—Ä—É–∑–∫–∏
**–¶–µ–ª—å:** –°–∏—Å—Ç–µ–º–∞ —Å—Ç–∞–±–∏–ª—å–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –Ω–∞–≥—Ä—É–∑–∫–æ–π

**–ó–∞–¥–∞—á–∏ –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤:**
- [ ] –ü—É–ª—ã —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [ ] –û—á–µ—Ä–µ–¥–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ–±—Ä–∞—Ç–Ω–æ–≥–æ –¥–∞–≤–ª–µ–Ω–∏—è
- [ ] –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤

**–ó–∞–¥–∞—á–∏ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- [ ] 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ 10 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É
- [ ] –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Ç–µ—á–µ–∫ –ø–∞–º—è—Ç–∏
- [ ] –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ CPU

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```bash
# –£—Å–ø–µ—à–Ω–æ–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
./run_load_test.sh
# ‚úì 100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
# ‚úì 10 –∑–∞–ø—Ä–æ—Å–æ–≤/—Å –≤ —Ç–µ—á–µ–Ω–∏–µ 5 –º–∏–Ω—É—Ç
# ‚úì –°—Ç–∞–±–∏–ª—å–Ω–æ–µ –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞–º—è—Ç–∏
# ‚úì 95-–π –ø–µ—Ä—Ü–µ–Ω—Ç–∏–ª—å < 500–º—Å
```

---

# –§–∞–∑–∞ 8: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è (–î–µ–Ω—å 15-16)

## –ò—Ç–µ—Ä–∞—Ü–∏—è 8.1: –ö–æ–º–ø–ª–µ–∫—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
**–¶–µ–ª—å:** –ö–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤—Å–µ—Ö –≤–∏–¥–æ–≤ —Å–±–æ–µ–≤

**–ó–∞–¥–∞—á–∏ Gateway:**
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ WebSocket –ø–æ—Å–ª–µ –æ—à–∏–±–æ–∫
- [ ] –†–µ–∑–µ—Ä–≤–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã –ø—Ä–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –ü–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–æ–≤ —Å –æ—Ç—Å—Ä–æ—á–∫–æ–π
- [ ] –†–∞–∑–º—ã–∫–∞—Ç–µ–ª—å —Ü–µ–ø–∏ –¥–ª—è –Ω–∏–∂–µ—Å—Ç–æ—è—â–∏—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

**–ó–∞–¥–∞—á–∏ Agent Runtime:**
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–∞–π–º–∞—É—Ç–æ–≤ LLM
- [ ] –û—à–∏–±–∫–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —á–∞—Å—Ç–∏—á–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –ü—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–Ω–æ—Å—Ç–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è

**–ó–∞–¥–∞—á–∏ LLM Proxy:**
- [ ] –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏
- [ ] –û–±—Ä–∞–±–æ—Ç–∫–∞ –ø—Ä–µ–≤—ã—à–µ–Ω–∏—è –ª–∏–º–∏—Ç–æ–≤
- [ ] –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ—Å–ª–µ –Ω–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤
- [ ] –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–≤–æ—Ç–∞–º–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
```javascript
// –õ—é–±–æ–π —Å–±–æ–π –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
// –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç –ø–æ–Ω—è—Ç–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –æ–± –æ—à–∏–±–∫–µ
// –°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è
```

## –ò—Ç–µ—Ä–∞—Ü–∏—è 8.2: –§–∏–Ω–∞–ª—å–Ω–æ–µ —Å–∫–≤–æ–∑–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
**–¶–µ–ª—å:** –ü–æ–ª–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

**–°—Ü–µ–Ω–∞—Ä–∏–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- [ ] –ü–æ–ª–Ω—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π —Å—Ü–µ–Ω–∞—Ä–∏–π: —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –∫–æ–¥–∞
- [ ] –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–∞—Ö —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø–∞—Ç—á–µ–π
- [ ] –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ —Å–µ—Ä–≤–∏—Å–æ–≤ –≤–æ –≤—Ä–µ–º—è —Ä–∞–±–æ—Ç—ã
- [ ] –°–µ—Ç–µ–≤—ã–µ —Å–±–æ–∏ –∏ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ
- [ ] –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –Ω–∞–¥ –æ–¥–Ω–∏–º –ø—Ä–æ–µ–∫—Ç–æ–º

**–ó–∞–¥–∞—á–∏ –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏:**
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è API –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—é
- [ ] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏—é –Ω–µ–ø–æ–ª–∞–¥–æ–∫
- [ ] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

**–†–µ–∑—É–ª—å—Ç–∞—Ç:**
- –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç —É—Å–ø–µ—à–Ω–æ
- –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞
- –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏–∏

---

# –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–µ—Ä–≤–∏—Å–æ–≤

## –ü–æ—Ä—è–¥–æ–∫ –∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–æ–≤:
1. **LLM Proxy** (–±–µ–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π)
2. **Agent Runtime** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç LLM Proxy)
3. **Gateway** (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç Agent Runtime)

## –°—Ö–µ–º–∞ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è:
```
IDE ‚Üê‚Üí Gateway ‚Üê‚Üí Agent Runtime ‚Üê‚Üí LLM Proxy ‚Üê‚Üí LLM –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã
         ‚Üë              ‚Üë                ‚Üë
    WebSocket      SSE/HTTP         SSE/HTTP
```

---

# –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

## –¢–∏–ø—ã —Ç–µ—Å—Ç–æ–≤ –ø–æ —Ñ–∞–∑–∞–º:

### –§–∞–∑–∞ 1-2: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- –ú–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
- –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã
- –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ WebSocket

### –§–∞–∑–∞ 3-4: –û—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –¢–µ—Å—Ç—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å LLM
- –°–∫–≤–æ–∑–Ω—ã–µ —Ç–µ—Å—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- –ë–∞–∑–æ–≤—ã–µ –Ω–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã (10 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π)

### –§–∞–∑–∞ 5-6: –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- –¢–µ—Å—Ç—ã —Å–ª–æ–∂–Ω—ã—Ö —Å—Ü–µ–Ω–∞—Ä–∏–µ–≤
- –¢–µ—Å—Ç—ã –º–Ω–æ–≥–æ–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π —Ä–∞–±–æ—Ç—ã
- –¢–µ—Å—Ç—ã —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å–µ—Å—Å–∏–π

### –§–∞–∑–∞ 7-8: –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
- –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã (100 –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–π)
- –¢–µ—Å—Ç—ã —Ö–∞–æ—Ç–∏—á–µ—Å–∫–æ–π –∏–Ω–∂–µ–Ω–µ—Ä–∏–∏
- –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–∫–≤–æ–∑–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

---

# –†–∞–±–æ—á–∏–π –ø—Ä–æ—Ü–µ—Å—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

## –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å –∏—Ç–µ—Ä–∞—Ü–∏–∏:

```bash
# –£—Ç—Ä–æ
1. git pull –ø–æ—Å–ª–µ–¥–Ω–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π
2. –ü—Ä–æ—Å–º–æ—Ç—Ä —Ü–µ–ª–µ–π –∏—Ç–µ—Ä–∞—Ü–∏–∏
3. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ—Å–∫–∏ –∑–∞–¥–∞—á

# –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞
4. –ù–∞–ø–∏—Å–∞–Ω–∏–µ –ø–∞–¥–∞—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤
5. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–∞
6. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤
7. –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

# –í–µ—á–µ—Ä
8. –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
9. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏
10. –ö–æ–º–º–∏—Ç —Ä–∞–±–æ—á–µ–≥–æ –∫–æ–¥–∞
11. –†–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤ dev –æ–∫—Ä—É–∂–µ–Ω–∏–∏
```

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –≤–µ—Ç–≤–ª–µ–Ω–∏—è:

```
main
‚îú‚îÄ‚îÄ feature/phase-1-foundation
‚îú‚îÄ‚îÄ feature/phase-2-streaming
‚îú‚îÄ‚îÄ feature/phase-3-llm
‚îî‚îÄ‚îÄ feature/phase-N-...
```

---

# –≠—Ç–∞–ø—ã —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è

## –ù–µ–¥–µ–ª—è 1 (–§–∞–∑—ã 1-2)
- ‚úÖ –í—Å–µ —Å–µ—Ä–≤–∏—Å—ã –∑–∞–ø—É—â–µ–Ω—ã
- ‚úÖ –ë–∞–∑–æ–≤—ã–π –ø–æ—Ç–æ–∫ —Å–æ–æ–±—â–µ–Ω–∏–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å—Ç—Ä–∏–º–∏–Ω–≥–∞ –≥–æ—Ç–æ–≤–∞
- **–î–µ–º–æ:** –≠—Ö–æ-–±–æ—Ç —á–µ—Ä–µ–∑ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã

## –ù–µ–¥–µ–ª—è 2 (–§–∞–∑—ã 3-5)
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–µ–∞–ª—å–Ω—ã–º LLM
- ‚úÖ –ë–∞–∑–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Git
- **–î–µ–º–æ:** –ß—Ç–µ–Ω–∏–µ –∏ –∞–Ω–∞–ª–∏–∑ –∫–æ–¥–∞

## –ù–µ–¥–µ–ª—è 3 (–§–∞–∑—ã 6-8)
- ‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ MVP –∑–∞–≤–µ—Ä—à–µ–Ω—ã
- ‚úÖ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –ø—Ä–æ–¥–∞–∫—à–µ–Ω—É
- ‚úÖ –ü–æ–ª–Ω–æ–µ —Ç–µ—Å—Ç–æ–≤–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ
- **–î–µ–º–æ:** –ü–æ–ª–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

---

# –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–º–∞–Ω–¥—ã (–¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤):

- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 1:** Gateway + –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è
- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 2:** Agent Runtime + –õ–æ–≥–∏–∫–∞ LLM
- **–†–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫ 3:** LLM Proxy + –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã
- **–û–±—â–µ–µ:** –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, DevOps, –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–¥–Ω–æ–≥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞:

–§–æ–∫—É—Å –Ω–∞ –≤–µ—Ä—Ç–∏–∫–∞–ª—å–Ω—ã—Ö —Å—Ä–µ–∑–∞—Ö:
1. –°–Ω–∞—á–∞–ª–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–±–æ—á–∏–π –ø–æ—Ç–æ–∫
2. –ò–Ω–∫—Ä–µ–º–µ–Ω—Ç–∞–ª—å–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π
3. –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
4. –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ —Ö–æ–¥—É —Ä–∞–±–æ—Ç—ã

---

# –ö—Ä–∏—Ç–µ—Ä–∏–∏ —É—Å–ø–µ—Ö–∞

## –£—Å–ø–µ—Ö POC = 
- ‚úÖ IDE –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–æ–±—â–µ–Ω–∏—è —á–µ—Ä–µ–∑ –≤—Å–µ —Å–µ—Ä–≤–∏—Å—ã
- ‚úÖ –ü–æ—Ç–æ–∫–æ–≤—ã–µ –æ—Ç–≤–µ—Ç—ã —Ä–µ–∞–ª—å–Ω–æ–≥–æ LLM –≤ IDE
- ‚úÖ –í—Å–µ 6 MVP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç —Å–∫–≤–æ–∑–Ω—ã–º –æ–±—Ä–∞–∑–æ–º
- ‚úÖ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–∞—Ç—á–µ–π —Ä–∞–±–æ—Ç–∞–µ—Ç
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –≤—ã–∂–∏–≤–∞–µ—Ç –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ –ù–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (10 –∑–∞–ø—Ä/—Å)
- ‚úÖ –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

---

# –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f gateway
docker-compose logs -f agent-runtime
docker-compose logs -f llm-proxy

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
./scripts/test-all.sh

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
curl http://localhost:8000/health
curl http://localhost:8001/health
curl http://localhost:8002/health

# –ù–∞–≥—Ä—É–∑–æ—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
./scripts/load-test.sh

# –ß–∏—Å—Ç—ã–π –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫
docker-compose down -v
docker-compose up -d --build
```
